vamos a ahacwr los siguientes cambios, actualmenet tenemos solamnete que el doctor tiene vista, por default toods los users nuevos que se crean son de admin, o de doctor, corecto?, peor lo que queremos es que hay un rol dentro de doctors que sea users, y que tenga un rol distntio cada uno!, uno de user y uno de admin, por default sea va a cerar como user, eel de admin es como acgualmemte teenemos la vsta del frontend, necestamos crear la vista del user, que en esa el usario va a tener que llenar un formulario medico base, en ese formualrio, el user llena sus datos emdicos generales, ok?, peor si el user quiere consultar con un especilista p va a ver un tipo marketplace o una pagana en donde va a poder encontrar medicos de especliadad, por ejemplo endocrinologos o cardiolgoos, etc!, cada uno te va a pedir preguntas especialidas a esa especialdiad , entonces si yo como user queor consualrt con un edocrinologo, deberia de tener mi formualtio medico completado mas las preguntas especliadizadas de ese especialista!, ok?, una vez que se tenga eso!, dependiendo de loq eu se conetsto en las prefguntas especilaides de ese medico en particualr se le va a recomendar que se haga unos estudios de laboratrio,ojo los estuidos pueden cambir depeneidno de lo que respondio en las pregutas especializadas, ok?, ahi en la misma plataforma va apoder picarle par ver los laboratorios con los que se tiene convenio, una vez que sereaice los estudios, va a poder adjuntralos como pdf, o imagen ahi mismo en la plataforma, y el doctor va a poder recibirlos, una vez que el doctor tenga el formulario, el formulario especializado y el laboratorio en caso de necesitarse, el doctor va a tenr la opcion depasarlo por un llm (en este caso lo llamaremos pasante virtual), en el que ese llm va a analziar todo y dar un resumen al medico!,

consideraciones:
actualmenet el user que selogea por default es el doctor, y el doctor puede agregar pacientes, esos pacinetes se pueden linkear con el coctor una vez que se tenga la aporbacion mutua, por ejemplo si el doctor agrega un paciente ahi le pone su correo, el user que tiene ese correo va a recibir una notificacion en su vista de user , va apder acpeatr o rechazar el linekamient, y viceversa, si el user quiere elejir un medico de especialidad, debe hacer el requets y el doctor especilaido debe de acpetarlo en su vista de admin!, ok?

analiza bien el proyecto de supabase: didbxinquugseweufvpr por medio del mcp de supabase, analzia como estan las tablas, que hay que hacer y si tu peudes hacer las migraciones adelnate, lo que no se pueda migrar como por ejemplo el storage de bcukets, dame un file explciado paso a paso como hacerl desde el sql editor, peor te deje las claves en el .env para que te puedas conectra mas directamnete!, ok?

todo esta bien explciaod, recuerda que paar la vista de user debemos crear una vsuta completamnete diferenet a la que ya tenemos, al que ya tenemso de frontend es del admin, pero la de user aun no esta!, actualmenet tenemso dos tabakls una de dcotors y otra de patienets, no se si convenag homologara a una y poerle el rol, de admi y user, o nose como tu veas!, adelante con los cambios
